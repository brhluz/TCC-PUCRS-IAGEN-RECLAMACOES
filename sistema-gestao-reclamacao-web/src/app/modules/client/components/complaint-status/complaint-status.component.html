<div class="status-container" *ngIf="!loading && complaint">
  <div class="container">
    <div class="status-header">
      <div class="status-badge">{{ complaint.status }}</div>
      <div class="status-title">Protocolo {{ complaint.protocol }}</div>
      <div class="status-subtitle">Última atualização: {{ formatShortDate(complaint.updatedAt) }}</div>
    </div>

    <div class="content">
      <div class="info-group">
        <div class="label">Categoria Identificada (IA)</div>
        <div class="value">{{ complaint.aiCategory }}</div>
        <div class="ai-tag"><span class="ai-icon">✨</span> Classificado via IA</div>
      </div>

      <div class="info-group">
        <div class="label">Sua Reclamação</div>
        <div class="value">"{{ complaint.description }}"</div>
      </div>

      <div class="info-group">
        <div class="label">Histórico</div>
        <div class="timeline">
          <div class="timeline-item" *ngFor="let item of timeline">
            <div class="dot" [class.pending]="!item.completed"></div>
            <div class="timeline-content">
              <h4>{{ item.title }}</h4>
              <span>{{ item.date }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="info-group" *ngIf="complaint.resolution">
        <div class="label">Resolução</div>
        <div class="value resolution">{{ complaint.resolution }}</div>
      </div>
    </div>
  </div>
</div>

<div class="loading" *ngIf="loading">Carregando status...</div>